<!--
 
    this file original version was from 
    https://mvnrepository.com/artifact/org.hbase/asynchbase/1.8.2, 
    click ViewAll, and download 
    https://repo1.maven.org/maven2/org/hbase/asynchbase/1.8.2/asynchbase-1.8.2.pom
    
    you can upload to repository:               ext-release-local/org/hbase/asynchbase/1.8.2.x/asynchbase-1.8.2.x.pom
    which is in the same directory as the jar   ext-release-local/org/hbase/asynchbase/1.8.2.x/asynchbase-1.8.2.x.jar

 -->
<project xmlns="http://maven.apache.org/POM/4.0.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>

  <groupId>org.hbase</groupId>
  <artifactId>asynchbase</artifactId>
  <version>${MYVERSION}</version>
  <name>Asynchronous HBase Client</name>
  <organization>
    <name>The Async HBase Authors</name>
    <url>http://opentsdb.net</url>
  </organization>
  <description>
    An alternative HBase client library for applications requiring fully
    asynchronous, non-blocking and thread-safe HBase connectivity.
    https://github.com/OpenTSDB/asynchbase
    In this special version, we attempt to solve the missing scanner problem
    by adopting only the aspect of rpc.attempt++; from the proposed change in
    the issue https://github.com/OpenTSDB/asynchbase/issues/198
  </description>
  <licenses>
    <license>
      <name>BSD</name>
      <url>http://www.opensource.org/licenses/BSD-3-Clause</url>
      <distribution>repo</distribution>
    </license>
  </licenses>
  <!--
  <scm>
    <connection>scm:git:git@github.com:OpenTSDB/asynchbase.git</connection>
    <url>https://github.com/OpenTSDB/asynchbase</url>
  </scm>
  <issueManagement>
    <system>GitHub</system>
    <url>https://github.com/OpenTSDB/asynchbase/issues</url>
  </issueManagement>
  <mailingLists>
    <mailingList>
      <name>User List</name>
      <post>asynchbase@googlegroups.com</post>
      <subscribe>asynchbase+subscribe@googlegroups.com</subscribe>
      <unsubscribe>asynchbase+unsubscribe@googlegroups.com</unsubscribe>
      <archive>https://groups.google.com/group/asynchbase</archive>
    </mailingList>
  </mailingLists>
  <developers>
    <developer>
      <id>tsuna</id>
      <name>Benoit "tsuna" Sigoure</name>
      <email>tsunanet@gmail.com</email>
      <roles>
        <role>developer</role>
      </roles>
      <timezone>-8</timezone>
    </developer>
  </developers>
  <inceptionYear>2010</inceptionYear>
  -->

  <packaging>jar</packaging>

  <build>
    <sourceDirectory>.mvn-compat/src/main/java</sourceDirectory>
    <testSourceDirectory>test</testSourceDirectory>

    <plugins>

      <plugin>
        <groupId>org.xolstice.maven.plugins</groupId>
        <artifactId>protobuf-maven-plugin</artifactId>
        <version>0.5.0</version>
        <configuration>
          <protocExecutable>protoc</protocExecutable>
          <protoSourceRoot>${basedir}/protobuf</protoSourceRoot>
        </configuration>
        <executions>
          <execution>
            <goals>
              <goal>compile</goal>
            </goals>
          </execution>
        </executions>
      </plugin>

      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-compiler-plugin</artifactId>
        <version>2.5.1</version>
        <configuration>
          <source>1.6</source>
          <target>1.6</target>
          <compilerArgument>-Xlint</compilerArgument>
        </configuration>
      </plugin>

      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-source-plugin</artifactId>
        <version>2.2.1</version>
        <executions>
          <execution>
            <id>attach-sources</id>
            <goals>
              <goal>jar</goal>
            </goals>
          </execution>
        </executions>
      </plugin>

      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-javadoc-plugin</artifactId>
        <version>2.8.1</version>
        <executions>
          <execution>
            <id>attach-javadocs</id>
            <goals>
              <goal>jar</goal>
            </goals>
          </execution>
        </executions>
        <configuration>
          <quiet>true</quiet>
          <validateLinks>true</validateLinks>
          <bottom>
            Copyright &#169; {inceptionYear}-{currentYear},
            ${project.organization.name}
          </bottom>
        </configuration>
      </plugin>

      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-gpg-plugin</artifactId>
        <version>1.5</version>
        <executions>
         <execution>
            <id>sign-artifacts</id>
            <phase>verify</phase>
            <goals>
              <goal>sign</goal>
            </goals>
          </execution>
        </executions>
      </plugin>
      
      <plugin>
        <groupId>org.sonatype.plugins</groupId>
        <artifactId>nexus-staging-maven-plugin</artifactId>
        <version>1.6.3</version>
        <extensions>true</extensions>
        <configuration>
           <serverId>ossrh</serverId>
           <nexusUrl>https://oss.sonatype.org/</nexusUrl>
           <autoReleaseAfterClose>false</autoReleaseAfterClose>
        </configuration>
      </plugin>

      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-surefire-plugin</artifactId>
        <version>2.12.4</version>
        <configuration>
          <excludes>
            <exclude>**/TestIntegration.java</exclude>
            <exclude>**/TestIncrementCoalescing.java</exclude>
          </excludes>
        </configuration>
      </plugin>

    </plugins>
  </build>
  
  <profiles>
    <!-- CGlib in Mockito and PowerMockito has issues mocking the Subject class under javax.security.auth. 
    It should work better in 2.x so until that comes out, we'll just skip the auth test classes when running 
    under JDK 8.
    
    The exception observed is:
       java.lang.LinkageError: loader constraint violation in interface itable initialization: 
      when resolving method "$java.security.Principal$$EnhancerByMockitoWithCGLIB$$e775e657
      .implies(Ljavax/security/auth/Subject;)Z" the class loader (instance of org/powermock/
      core/classloader/MockClassLoader) of the current class, $java/security/
      Principal$$EnhancerByMockitoWithCGLIB$$e775e657, and the class loader (instance of <bootloader>) for 
      interface java/security/Principal have different Class objects for the type javax/security/auth/Subject 
      used in the signature.
    -->  
    <profile>
      <activation>
        <jdk>1.8</jdk>
      </activation>
      <build>
        <plugins>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-surefire-plugin</artifactId>
            <version>2.12.4</version>
            <configuration>
              <excludes>
                <exclude>**/TestKerberosClientAuthProvider.java</exclude>
                <exclude>**/TestLogin.java</exclude>
                <exclude>**/TestSimpleClientAuthProvider.java</exclude>
                <exclude>**/TestIntegration.java</exclude>
                <exclude>**/TestIncrementCoalescing.java</exclude>
              </excludes>
            </configuration>
          </plugin>
        </plugins>
      </build>
    </profile>
  </profiles>

  <dependencies>

    <dependency>
      <groupId>com.google.guava</groupId>
      <artifactId>guava</artifactId>
      <version>18.0</version>
    </dependency>

    <dependency>
      <groupId>com.google.protobuf</groupId>
      <artifactId>protobuf-java</artifactId>
      <version>2.5.0</version>
    </dependency>

    <dependency>
      <groupId>io.netty</groupId>
      <artifactId>netty</artifactId>
      <version>3.9.4.Final</version>
    </dependency>

    <dependency>
      <groupId>com.stumbleupon</groupId>
      <artifactId>async</artifactId>
      <version>1.4.0</version>
    </dependency>

    <dependency>
      <groupId>org.apache.zookeeper</groupId>
      <artifactId>zookeeper</artifactId>
      <version>3.4.5</version>
      <exclusions>
        <exclusion>
          <groupId>log4j</groupId>
          <artifactId>log4j</artifactId>
        </exclusion>
        <exclusion>
          <groupId>org.slf4j</groupId>
          <artifactId>slf4j-log4j12</artifactId>
        </exclusion>
        <exclusion>
          <groupId>jline</groupId>
          <artifactId>jline</artifactId>
        </exclusion>
        <exclusion>
          <groupId>junit</groupId>
          <artifactId>junit</artifactId>
        </exclusion>
      </exclusions>
    </dependency>

    <dependency>
      <groupId>org.slf4j</groupId>
      <artifactId>slf4j-api</artifactId>
      <version>1.7.7</version>
    </dependency>

    <!-- runtime dependencies -->

    <dependency>
      <groupId>org.slf4j</groupId>
      <artifactId>log4j-over-slf4j</artifactId>
      <version>1.7.7</version>
      <scope>runtime</scope>
    </dependency>

    <!-- test dependencies -->

    <dependency>
      <groupId>org.hamcrest</groupId>
      <artifactId>hamcrest-core</artifactId>
      <version>1.3</version>
      <scope>test</scope>
    </dependency>

    <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
      <version>4.11</version>
      <scope>test</scope>
    </dependency>

    <dependency>
      <groupId>org.javassist</groupId>
      <artifactId>javassist</artifactId>
      <version>3.18.1-GA</version>
      <scope>test</scope>
    </dependency>

    <dependency>
      <groupId>org.mockito</groupId>
      <artifactId>mockito-all</artifactId>
      <version>1.9.5</version>
      <scope>test</scope>
    </dependency>

    <dependency>
      <groupId>org.objenesis</groupId>
      <artifactId>objenesis</artifactId>
      <version>2.1</version>
      <scope>test</scope>
    </dependency>

    <dependency>
      <groupId>org.powermock</groupId>
      <artifactId>powermock-module-junit4</artifactId>
      <version>1.5.4</version>
      <scope>test</scope>
    </dependency>

    <dependency>
      <groupId>org.powermock</groupId>
      <artifactId>powermock-api-mockito</artifactId>
      <version>1.5.4</version>
      <scope>test</scope>
    </dependency>

  </dependencies>

  <properties>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
  </properties>

  <parent>
    <groupId>org.sonatype.oss</groupId>
    <artifactId>oss-parent</artifactId>
    <version>7</version>
    <!--Empty relativePath is workaround.  See MNG-4687-->
    <relativePath></relativePath>
  </parent>

</project>
